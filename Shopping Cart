import java.util.Scanner;
interface kampanyalar<Biletler>{
	public static void opera3al2ode(){
		if (ShoppingCart.operaSayac%3==0){
			ShoppingCart.Biletler operaBilet = ShoppingCart.Biletler.OPERA;
			ShoppingCart.sonuc1-= (operaBilet.getBiletler());
			System.out.println("3 Opera bileti al 1 i bizden olsun! Kampanyasından yararlandınız.");
		}
	}
	public static void opera1al1Sinema(){
		if (ShoppingCart.operaSayac<=ShoppingCart.sinemaSayac & ShoppingCart.operaSayac!=0){
			int x = 0;
			x += ShoppingCart.operaSayac;
			ShoppingCart.Biletler sinemaBilet = ShoppingCart.Biletler.SINEMA;
			ShoppingCart.sonuc2-=(x*(sinemaBilet.getBiletler()));
			System.out.println("1 Opera bileti alana 1 Sinema bileti bedava! Kampanyasından yararlandınız.");
		}
		else if(ShoppingCart.operaSayac>=ShoppingCart.sinemaSayac & ShoppingCart.sinemaSayac!=0){
			int x = 0;
			x += ShoppingCart.sinemaSayac;
			ShoppingCart.Biletler sinemaBilet = ShoppingCart.Biletler.SINEMA;
			ShoppingCart.sonuc2-=(x*(sinemaBilet.getBiletler()));
			System.out.println("1 Opera bileti alana 1 Sinema bileti bedava! Kampanyasından yararlandınız.");		
		}
	}
	public static void bungeeAlSinemaIndirim(){
		if (ShoppingCart.bungeeSayac>=ShoppingCart.sinemaSayac & ShoppingCart.sinemaSayac!=0){
			System.out.println("1 Bungee Jumping bileti alana Sinema biletinde %5 indirim bizden! Kampanyasından yararlandınız.");
			int x = 0;
			x += ShoppingCart.sinemaSayac;
			ShoppingCart.Biletler sinemaBilet = ShoppingCart.Biletler.SINEMA;
			double yuzde=0.0;
			yuzde +=sinemaBilet.getBiletler();
			ShoppingCart.toplam -= (((yuzde/100)*5)*x);
		}
	}
	public static void kampanyaEkle(){
		System.out.println("Lütfen eklemek istediğiniz kampanya kodunu giriniz.");
		System.out.println("--------------------------------------------------------------------------------------------------");
		System.out.println("Kampanya Kodu 101 :  X al Y öde(Aynı tür biletler için geçerlidir.)");
		System.out.println("Kampanya Kodu 202 :  X tane bilet alana Y tane bilet bedava!(Farklı tür biletler için geçerlidir.)");
		System.out.println("Kampanya Kodu 303 :  X tane bilet alana %Y indirim!(Farklı tür biletler için geçerlidir.)");
		System.out.println("--------------------------------------------------------------------------------------------------");
		Scanner kamp = new Scanner(System.in);
		ShoppingCart.kod = kamp.nextInt();
		switch (ShoppingCart.kod){
		case 101:
			int X1;
			int Y1;
			String tur1;
			System.out.println("Lütfen X değerini giriniz.");
			Scanner x1deg = new Scanner(System.in);
			X1 = x1deg.nextInt();
			System.out.println("Lütfen Y değerini giriniz.");
			Scanner y1deg = new Scanner(System.in);
			Y1 = y1deg.nextInt();
			System.out.println("Lütfen bilet türünü Opera,Sinema veya Bungee şeklinde giriniz.");
			Scanner tur1deg = new Scanner(System.in);
			tur1 = tur1deg.nextLine();
			if (tur1.equals("Opera")){
				if (ShoppingCart.operaSayac%X1==0){
					ShoppingCart.Biletler operaBilet = ShoppingCart.Biletler.OPERA;
					ShoppingCart.sonuc1-= ((operaBilet.getBiletler())*Y1);
					System.out.println(X1+" Opera bileti al "+Y1+" i bizden olsun! Kampanyası oluşturuldu.");
					System.out.println("Ana menüye dönmek için 0 ı tuşlayınız.");
					Scanner isNo4 = new Scanner(System.in);
					ShoppingCart.islem=isNo4.nextInt();
					if (ShoppingCart.islem==0){
						ShoppingCart.menuGoster();
						ShoppingCart.islemNo();
						
					}
					System.out.println(X1+" Opera bileti al "+Y1+" i bizden olsun! Kampanyasından yararlandınız.");
					break;
				}
				
			}if (tur1.equals("Sinema")){
				if (ShoppingCart.sinemaSayac%X1==0){
					ShoppingCart.Biletler sinemaBilet = ShoppingCart.Biletler.SINEMA;
					ShoppingCart.sonuc2-= (sinemaBilet.getBiletler());
					System.out.println(X1+" Sinema bileti al "+Y1+" i bizden olsun! Kampanyası oluşturuldu.");
					System.out.println("Ana menüye dönmek için 0 ı tuşlayınız.");
					Scanner isNo4 = new Scanner(System.in);
					ShoppingCart.islem=isNo4.nextInt();
					if (ShoppingCart.islem==0){
						ShoppingCart.menuGoster();
						ShoppingCart.islemNo();
						
					}
					System.out.println(X1+" Sinema bileti al "+Y1+" i bizden olsun! Kampanyasından yararlandınız.");
					break;
				}
				
			}if (tur1.equals("Bungee")){
				if (ShoppingCart.bungeeSayac%X1==0){
					ShoppingCart.Biletler bungeeBilet = ShoppingCart.Biletler.BUNGEEJUMPING;
					ShoppingCart.sonuc3-= (bungeeBilet.getBiletler());
					System.out.println(X1+" Bungee Jumping bileti al "+Y1+" i bizden olsun! Kampanyası oluşturuldu.");
					System.out.println("Ana menüye dönmek için 0 ı tuşlayınız.");
					Scanner isNo4 = new Scanner(System.in);
					ShoppingCart.islem=isNo4.nextInt();
					if (ShoppingCart.islem==0){
						ShoppingCart.menuGoster();
						ShoppingCart.islemNo();
						
					}
					System.out.println(X1+" Bungee Jumping bileti al "+Y1+" i bizden olsun! Kampanyasından yararlandınız.");
					break;
				}
			}
		case 202:
			int X2;
			int Y2;
			String tur2;
			String tur3;
			System.out.println("Lütfen X değerini giriniz.");
			Scanner x2deg = new Scanner(System.in);
			X2 = x2deg.nextInt();
			System.out.println("Lütfen Y değerini giriniz.");
			Scanner y2deg = new Scanner(System.in);
			Y2 = y2deg.nextInt();
			System.out.println("Lütfen alınan bilet türünü Opera,Sinema veya Bungee şeklinde giriniz.");
			Scanner tur2deg = new Scanner(System.in);
			tur2 = tur2deg.nextLine();
			System.out.println("Lütfen hediye bilet türünü Opera,Sinema veya Bungee şeklinde giriniz.");
			Scanner tur3deg = new Scanner(System.in);
			tur3 = tur3deg.nextLine();
			if (tur2.equals("Opera") & tur3.equals("Sinema")){
				System.out.println(X2+" Opera bileti alana "+Y2+" Sinema bileti bedava! Kampanyası oluşturuldu.");
				System.out.println("Ana menüye dönmek için 0 ı tuşlayınız.");
				Scanner isNo4 = new Scanner(System.in);
				ShoppingCart.islem=isNo4.nextInt();
				if (ShoppingCart.islem==0){
					ShoppingCart.menuGoster();
					ShoppingCart.islemNo();
					
				}
				if (ShoppingCart.operaSayac==X2 & ShoppingCart.sinemaSayac!=0){
					ShoppingCart.Biletler sinemaBilet = ShoppingCart.Biletler.SINEMA;
					ShoppingCart.sonuc2-=(Y2*(sinemaBilet.getBiletler()));
					
				}
			}
			if (tur2.equals("Sinema") & tur3.equals("Bungee")){
				System.out.println(X2+" Sinema bileti alana "+Y2+" Bungee Jumping bileti bedava! Kampanyası oluşturuldu.");
				System.out.println("Ana menüye dönmek için 0 ı tuşlayınız.");
				Scanner isNo4 = new Scanner(System.in);
				ShoppingCart.islem=isNo4.nextInt();
				if (ShoppingCart.islem==0){
					ShoppingCart.menuGoster();
					ShoppingCart.islemNo();
					
				}
				if (ShoppingCart.sinemaSayac==X2 & ShoppingCart.bungeeSayac!=0){
					ShoppingCart.Biletler bungeeBilet = ShoppingCart.Biletler.BUNGEEJUMPING;
					ShoppingCart.sonuc3-=(Y2*(bungeeBilet.getBiletler()));
					
					}
			}
			if (tur2.equals("Opera") & tur3.equals("Bungee")){
				System.out.println(X2+" Opera bileti alana "+Y2+" Bungee Jumping bileti bedava! Kampanyası oluşturuldu.");
				System.out.println("Ana menüye dönmek için 0 ı tuşlayınız.");
				Scanner isNo4 = new Scanner(System.in);
				ShoppingCart.islem=isNo4.nextInt();
				if (ShoppingCart.islem==0){
					ShoppingCart.menuGoster();
					ShoppingCart.islemNo();
					
				}
				if (ShoppingCart.operaSayac==X2 & ShoppingCart.bungeeSayac!=0){
					ShoppingCart.Biletler bungeeBilet = ShoppingCart.Biletler.BUNGEEJUMPING;
					ShoppingCart.sonuc3-=(Y2*(bungeeBilet.getBiletler()));
					
					}
			}
			if (tur2.equals("Sinema") & tur3.equals("Opera")){
				System.out.println(X2+" Sinema bileti alana "+Y2+" Opera bileti bedava! Kampanyası oluşturuldu.");
				System.out.println("Ana menüye dönmek için 0 ı tuşlayınız.");
				Scanner isNo4 = new Scanner(System.in);
				ShoppingCart.islem=isNo4.nextInt();
				if (ShoppingCart.islem==0){
					ShoppingCart.menuGoster();
					ShoppingCart.islemNo();
					
				}
				if (ShoppingCart.sinemaSayac==X2 & ShoppingCart.operaSayac!=0){
					ShoppingCart.Biletler operaBilet = ShoppingCart.Biletler.OPERA;
					ShoppingCart.sonuc1-=(Y2*(operaBilet.getBiletler()));
				
				}
			}
			if (tur2.equals("Bungee") & tur3.equals("Sinema")){
				System.out.println(X2+" Bungee Jumping bileti alana "+Y2+" Sinema bileti bedava! Kampanyası oluşturuldu.");
				System.out.println("Ana menüye dönmek için 0 ı tuşlayınız.");
				Scanner isNo4 = new Scanner(System.in);
				ShoppingCart.islem=isNo4.nextInt();
				if (ShoppingCart.islem==0){
					ShoppingCart.menuGoster();
					ShoppingCart.islemNo();
					
				}
				if (ShoppingCart.bungeeSayac==X2 & ShoppingCart.sinemaSayac!=0){
					ShoppingCart.Biletler sinemaBilet = ShoppingCart.Biletler.SINEMA;
					ShoppingCart.sonuc2-=(Y2*(sinemaBilet.getBiletler()));
					
				}
			}
			if (tur2.equals("Bungee") & tur3.equals("Opera")){
				System.out.println(X2+" Bungee bileti alana "+Y2+" Opera bileti bedava! Kampanyası oluşturuldu.");
				System.out.println("Ana menüye dönmek için 0 ı tuşlayınız.");
				Scanner isNo4 = new Scanner(System.in);
				ShoppingCart.islem=isNo4.nextInt();
				if (ShoppingCart.islem==0){
					ShoppingCart.menuGoster();
					ShoppingCart.islemNo();
					
				}
				if (ShoppingCart.bungeeSayac%X2==0 & ShoppingCart.operaSayac!=0){
					ShoppingCart.Biletler operaBilet = ShoppingCart.Biletler.OPERA;
					ShoppingCart.sonuc1-=(Y2*(operaBilet.getBiletler()));
					
				}
			}
		}
	}
}
public class ShoppingCart{
	static public int islem;
	static public String isim;
	static public double toplam = 0.0;
	static public int sinemaSayac=0;
	static public int bungeeSayac=0;
	static public int operaSayac=0;
	static public String secim1;
	static public int sonuc1;
	static public int sonuc2;
	static public int sonuc3;
	static public int kod;
		
	

		public static void menuGoster(){
			System.out.println("Merhaba,");
			System.out.println("Shopping Cart Uygulamasına Hoşgeldiniz.");
			System.out.println("Lütfen aşağıdan işlem numarası seçiniz.");
			System.out.println("1 - Shopping Cart'ı incele");
			System.out.println("2 - Kampanyalar");
			System.out.println("3 - Satın al");
			System.out.println("4 - Kampanya ekle");
			System.out.println("0 - Çıkış yap");
			}

		public static void islemNo(){
			System.out.println("Lütfen işlem numarası giriniz : ");
			Scanner isNo = new Scanner(System.in);
			islem=isNo.nextInt();
			switch (islem)
			{
			case 0:
				System.out.println("Seçilen işlem : Çıkış yap");
				System.out.println("İyi günler.");
				break;
			case 1:
				System.out.println("Seçilen işlem : Shopping Cart'ı incele");
				System.out.println("Opera Bileti          : 300$" );
				System.out.println("Sinema Bileti         : 30$");
				System.out.println("Bungee Jumping Bileti : 100$");
				System.out.println("------------------------------------");
				System.out.println("Ana menüye dönmek için 0 tuşlayınız.");
				System.out.println("------------------------------------");
				Scanner isNo2 = new Scanner(System.in);
				islem=isNo2.nextInt();
				if (islem==0){
					menuGoster();
					islemNo();
				}
			case 2:
				System.out.println("Seçilen işlem : Kampanyalar");
				System.out.println("Şuan geçerli kampanyalar");
				System.out.println("3 Opera bileti al 1 i bizden olsun!");
				System.out.println("1 Opera bileti alana 1 Sinema bileti bedava!");
				System.out.println("1 Bungee Jumping bileti alana Sinema biletinde %5 indirim bizden!");
				System.out.println("------------------------------------");
				System.out.println("Ana menüye dönmek için 0 tuşlayınız.");
				System.out.println("------------------------------------");
				Scanner isNo3 = new Scanner(System.in);
				islem=isNo3.nextInt();
				if (islem==0){
					menuGoster();
					islemNo();
				}
			case 3:
				System.out.println("Seçilen işlem : Satın al");
				System.out.println("Lütfen satın almak istediğiniz bileti Opera,Sinema veya Bungee şeklinde yazınız.Çıkış yapmak için Çıkış yazmanınız yeterli.");
				while(true){
					System.out.println("Bilet Türü : ");
					Scanner secim = new Scanner(System.in);
					secim1= secim.nextLine();
					if (secim1.equals("Opera")){
						Biletler operaBilet = Biletler.OPERA;
						sonuc1+= (operaBilet.getBiletler());
						operaSayac+=1;
						kampanyalar.opera3al2ode();
						
					}else if(secim1.equals("Sinema")){
						Biletler sinemaBilet = Biletler.SINEMA;
						sonuc2+= sinemaBilet.getBiletler();
						sinemaSayac+=1;
					}else if(secim1.equals("Bungee")){
						Biletler bungeeBilet = Biletler.BUNGEEJUMPING;
						sonuc3+= bungeeBilet.getBiletler();
						bungeeSayac+=1;
					}
					else if(secim1!=("Çıkış")){
						
						kampanyalar.opera1al1Sinema();
						kampanyalar.bungeeAlSinemaIndirim();
						add();
						total();
						break;
					}
				}
				break;
			case 4:
				System.out.println("Seçilen işlem :  Kampanya ekle");
				kampanyalar.kampanyaEkle();
				break;
			default:
				System.out.println("------------------------------");
				System.out.println("Geçersiz bir işlem yaptınız.");
				System.out.println("------------------------------");
				menuGoster();
				islemNo();
			}
				
	}
		public enum Biletler{
			OPERA(300),
			SINEMA(30),
			BUNGEEJUMPING(100);
			public int biletler;
			
			Biletler(int biletler) {
				this.biletler = biletler;
			}
			public int getBiletler(){
				return this.biletler;
			}
		}
		
		public static void add(){
			toplam+=sonuc1;
			toplam+=sonuc2;
			toplam+=sonuc3;
		}
		public static void total(){
			System.out.println("Ödenmesi gereken toplam tutar : "+toplam+"$ olarak hesaplandı.");
		}
public static void main(String []args) {
		 ShoppingCart Menu = new ShoppingCart();
		 Menu.menuGoster();
		 Menu.islemNo();
		 
	 }
}

// Şimdi durum şu Menü de 4 e basınca isteğe yönelik kampanya oluşturma imkanı vermem gerekiyor.
// Bunu sağlamak için kampanyaEkle methodunu oluşturdum.
// Bunu da en son satın alma bitip Çıkış yazıldığında çalışmasını istedim.
// Yani sayacların son durumuna bakacak ve ondan sonra duruma göre uygun kampanya varsa bunu fiyattan düşüp yeni fiyatı bastıracak.
// Ama anladığım kadarıyla olay şu;
// kampanyaEkle() methodu çalışıyor.Kampanya oluşuyor. Ama bu bir case içinde olduğundan
// Ben satın alıp çıkış yaptığımda bunu bana hesaplayamıyor.
// O case lerden o bilgileri nasıl alıp satın alma ekranına ekleyebilirim sorum bu..
